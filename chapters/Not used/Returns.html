
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Asset Returns &#8212; Quantitative Investing</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/book.css?v=c2893119" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/Not used/Returns';</script>
    <link rel="canonical" href="https://amoreira2.github.io/Fin418/chapters/Not used/Returns.html" />
    <link rel="icon" href="../../_static/figuremain2.jpg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/figuremain2.jpg" class="logo__image only-light" alt="Quantitative Investing - Home"/>
    <script>document.write(`<img src="../../_static/figuremain2.jpg" class="logo__image only-dark" alt="Quantitative Investing - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../01/what-is-quant-investing.html">1. What is Data Driven Investing?</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../01/statistical-techniques.html">1.1. Statistical Techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/computational-tools.html">1.2. Computational tools</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02/getting_started.html">2. Getting Started</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../02/cloud_setup.html">2.3. Cloud Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/local_install.html">2.4. Local installation</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../essentials/intro.html">3. Python Essentials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../essentials/basics.html">3.1. Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/collections.html">3.2. Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/numpy.html">3.3. Numpy</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../essentials/introtopandas.html">3.4. Pandas</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/the_index.html">3.4.3. Indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/timeseries.html">3.4.4. Time-Series</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/reshape.html">3.4.5. Reshape</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/merge.html">3.4.6. Merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/groupby.html">3.4.7. Group-by</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/matplotlib.html">3.4.8. Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/data_clean.html">3.4.9. Cleaning data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../essentials/pandas/storage_formats.html">3.4.10. Data Storage</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/control_flow.html">3.5. Flow control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/functions.html">3.6. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/plotting.html">3.7. Plotting</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Finance/IntrotoReturns.html">4. Introduction to Asset Returns</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Finance/TheChoiceofFrequency.html">4.5. The Choice of Frequency and Annualization of Returns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Finance/UsingAPI.html">4.6. Data APIs</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/FactorModels.html">5. Factor Models</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Finance/PortfolioMath.html">6. Portfolios</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../scientific/linear_algebra1.html">6.5. Linear Algebra Review</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/CapitalAllocationI.html">7. Capital Allocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/FactorModelEstimation.html">8. Factor Model Estimation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Finance/Timing.html">9. Timing Strategies</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Finance/MarketTiming.html">9.1. Expected Returns Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Finance/Volatilitytiming.html">9.2. Volatility Timing</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Finance/crosssectionalequitystrategies.html">10. Cross-Sectional Equity Strategies</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Finance/Momentum.html">10.3. Momentum factor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Finance/Factors.html">10.4. An overview of factors</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/CapitalAllocationII.html">11. Capital Allocation II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/Performance_evaluation.html">12. Performance Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/MachineLearning.html">13. Machine Learning in Finance</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Finance/MultiFactorModels.html">14. Multi Factor Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Finance/InterpretingFactorModels.html">14.6. 📊 Interpreting Factor Models</a></li>


</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/RiskManagement.html">15. Risk Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/TradingCosts.html">16. Liquidity and Trading Cost Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/LeverageandShorting.html">17. Leverage, Shorting, and Limits to Arbitrage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Finance/GenAIandLLMsinFinance.html">18. Gen AI and LLMs in Finance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../additional/additional.html">19. Additional Statistics Material</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Assignments/Assignments.html">20. Assignments</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Assignments/Assignment1.html">20.1. Assignment 1</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/amoreira2/Fin418/blob/main/chapters/Not used/Returns.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/amoreira2/Fin418" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/amoreira2/Fin418/issues/new?title=Issue%20on%20page%20%2Fchapters/Not used/Returns.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/chapters/Not used/Returns.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Asset Returns</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-normal-distribution"><strong>The Normal distribution</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#excess-returns"><strong>Excess returns</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load libraries used in this notebook</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="asset-returns">
<h1>Asset Returns<a class="headerlink" href="#asset-returns" title="Link to this heading">#</a></h1>
<p><strong>What is a return?</strong></p>
<ul class="simple">
<li><p>Lets say you paid <span class="math notranslate nohighlight">\(𝑃_𝑡\)</span> in date <span class="math notranslate nohighlight">\(t\)</span> for an asset</p></li>
<li><p>In date <span class="math notranslate nohighlight">\(t+1\)</span> the price is <span class="math notranslate nohighlight">\(𝑃_{𝑡+1}\)</span>  and you earn some dividend as well <span class="math notranslate nohighlight">\(𝐷_{𝑡+1}\)</span></p></li>
<li><p>Then we say that your return is</p></li>
</ul>
<div class="math notranslate nohighlight">
\[𝑅_{𝑡+1}=\frac{𝑃_{𝑡+1}+𝐷_{𝑡+1}−𝑃_𝑡}{𝑃_𝑡}\]</div>
<ul class="simple">
<li><p>It is the gain you made (everything that you go in date t+1), divided by how much you put in ( the price of the asset)</p></li>
<li><p>This definition works for ANY asset that has a positive price</p></li>
<li><p>This is the case for stocks, bonds, commodities, crypto, most real assets</p></li>
<li><p>The return simply normalizes the “dollar gain” by the cost of the asset.</p></li>
<li><p>This makes sense because price levels are arbitrary and non-stationary, so we can’t really do traditional statistics over prices.</p></li>
</ul>
<p>Lets start by loading some return data.</p>
<p>Below we load a data set that has monthly return data on six different assets (in fact portfolios of assets, but we will get to portfolios later)</p>
<p>For now we will only use one of the assets which is the United States equity market portfolios, labeled “MKT”, which we typically refer as “the market”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Online address of the file </span>
<span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://raw.githubusercontent.com/amoreira2/Lectures/main/assets/data/GlobalFinMonthly.csv&quot;</span>
<span class="c1"># load it using pandas</span>
<span class="c1"># the field &quot;na_values=-99&quot; is telling the function that numbers &quot;-99&quot; are code for a missing value</span>
<span class="c1"># THIS VARIES DATASET by DATASET!!!!</span>
<span class="c1"># In this case I know that to be the case</span>
<span class="n">Data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">na_values</span><span class="o">=-</span><span class="mi">99</span><span class="p">)</span>
<span class="c1"># here we tell to pandas to interpret the DATE column as date type</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
<span class="c1"># set the date as the index</span>
<span class="n">Data</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
<span class="c1">#eep only the Market column</span>
<span class="n">Data</span><span class="o">=</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;MKT&#39;</span><span class="p">]]</span>
<span class="c1"># look at the first few observations</span>
<span class="n">Data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MKT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1963-02-28</th>
      <td>-0.0215</td>
    </tr>
    <tr>
      <th>1963-03-31</th>
      <td>0.0331</td>
    </tr>
    <tr>
      <th>1963-04-30</th>
      <td>0.0476</td>
    </tr>
    <tr>
      <th>1963-05-31</th>
      <td>0.0200</td>
    </tr>
    <tr>
      <th>1963-06-30</th>
      <td>-0.0177</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Comments</strong></p>
<ul class="simple">
<li><p>“.datetime” is pretty good at identifying how to interpret the data format, but you always have to check if it interpreted correct by inspecting it</p></li>
<li><p>If it does not you will have to add the format manually as we discuss later</p></li>
</ul>
<p><strong>How Returns are distributed?</strong></p>
<p>Lets start by looking at the moments of the distribution of returns for the “market” portfolio</p>
<p>This is really the portfolio of all the stocks listed in the United States</p>
<p><strong>Mean and Standard Deviation</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking at it&#39;s mean</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;MKT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># what does this number mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9051777434312205
</pre></div>
</div>
</div>
</div>
<p>If I have invested 1 dollar in a month t, On average I would have XXXXX in month t+1 in the sample</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking at the market standard deviation</span>

<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;MKT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># what does this number mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.400314890674189
</pre></div>
</div>
</div>
</div>
<p>If had all my wealth, say 100k usd invested in the market in month t, then standard deviation of my wealth in date t+1 was XXXX in the sample</p>
<p><strong>Histogram</strong></p>
<p>This plots the frequency of return realization on each bin</p>
<p>it gives a sense of the HISTORICAL DISTRIBUTION of reuturns</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../../_images/c0217537ea818a14bb0bc06fe5e2d34aeb6db465970165da5fc0b5d8627bbe66.png" src="../../_images/c0217537ea818a14bb0bc06fe5e2d34aeb6db465970165da5fc0b5d8627bbe66.png" />
</div>
</div>
<p>List two/three features that are noteworthy about this plot?</p>
<p><strong>Time-Series PLOT</strong></p>
<p>The time-series plot shows us in each date what was the return on the asset in each month in the sample</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Date&#39;&gt;
</pre></div>
</div>
<img alt="../../_images/db27becfaa13feb9c36dd9a14fc12d47f3da5ef3ab3d16cf92d8fc497bd62873.png" src="../../_images/db27becfaa13feb9c36dd9a14fc12d47f3da5ef3ab3d16cf92d8fc497bd62873.png" />
</div>
</div>
<p>** A quick review of randomness and probability distributions **</p>
<p><strong>Random variables</strong></p>
<ul class="simple">
<li><p>We think of the return realization, the numbers plotted above, as a random variable, i.e., a variable that we are uncertain about it’s realization.</p></li>
<li><p>Random variable is any thing that we don’t known</p>
<ul>
<li><p>Outcome of dice throw, value of stock market in the end of the day, …</p></li>
<li><p>For example a dice outcome is a random variables with the following possible outcomes: (1,2,3,4,5,6)</p></li>
</ul>
</li>
<li><p>This uncertainty is fully described by the probability distribution associated with the random variable.</p></li>
</ul>
<p><strong>What is a probability distribution?</strong></p>
<ul class="simple">
<li><p>A probability distribution describes the probability that each outcome is realized.</p></li>
<li><p>It can be described by a Probability Density Function (pdf).</p></li>
<li><p>For example, the pdf of a dice is (1,1/6) ,(2,1/6), (3,1/6), (4,1/6), (5,1/6), (6,1/6)</p></li>
<li><p>It can also be described by the Cumulative Density Function(cdf)</p></li>
<li><p>For a example, the cdf of a dice is (1,1/6) ,(2,2/6), (3,3/6), (4,4/6), (5,5/6), (6,6/6)</p></li>
<li><p>A pdf or cdf fully describes the uncertainty we have with respect to a particular random variable</p></li>
<li><p>Random variable is any thing that we don’t known</p></li>
<li><p>Outcome of dice throw, value of stock market in the end of the day, …</p></li>
</ul>
<p><strong>Moments</strong></p>
<ul class="simple">
<li><p>One way to summarize the information in a probability distribution is the moments</p></li>
<li><p>Mean or expected value <span class="math notranslate nohighlight">\(E[𝑥]=∑𝑥_𝑖 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span>  𝑜𝑟 <span class="math notranslate nohighlight">\(∫𝑥𝑓(𝑥)𝑑𝑥\)</span>  often uses µ as symbol</p></li>
<li><p>The Variance <span class="math notranslate nohighlight">\(𝑣𝑎𝑟(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^2 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span>    𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^2 𝑓(𝑥)𝑑𝑥 \)</span></p>
<ul>
<li><p>(Standard deviation <span class="math notranslate nohighlight">\(std(x)= \sqrt{𝑣𝑎𝑟(𝑥)}\)</span>)</p></li>
<li><p>measures average variability around the mean across successive drawings of x.</p></li>
<li><p>often use 𝜎 as a symbol for standard deviation and <span class="math notranslate nohighlight">\(\sigma^2\)</span> for variance</p></li>
</ul>
</li>
<li><p>Skewness <span class="math notranslate nohighlight">\(𝑠𝑘𝑒𝑤(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^3 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span> 𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^3 𝑓(𝑥)𝑑𝑥\)</span></p>
<ul>
<li><p>Measures asymmetry in the distribution</p></li>
</ul>
</li>
<li><p>Kurtosis <span class="math notranslate nohighlight">\(𝑘𝑢𝑟𝑡(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^4 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span> 𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^4 𝑓(𝑥)𝑑𝑥\)</span></p>
<ul>
<li><p>Measures how fat the tails are</p></li>
</ul>
</li>
<li><p>Higher order moments…</p></li>
<li><p>Observation: with enough moments you can represent any distribution, but in practice you only need a few</p>
<ul>
<li><p>for example for the normal distribution you only need the first two: Expected value and variance!</p></li>
</ul>
</li>
</ul>
<section id="the-normal-distribution">
<h2><strong>The Normal distribution</strong><a class="headerlink" href="#the-normal-distribution" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Most of what we do does not depend on the assumption of normality</p></li>
<li><p>But normal distributions are very useful in statistical tests</p></li>
<li><p>And they are also not a bad approximation for return data at low frequency (monthly/year)</p></li>
</ul>
<ul class="simple">
<li><p>Probability that any random draw form a Normal distribution random variable <span class="math notranslate nohighlight">\(\tilde{x}\)</span> is within <span class="math notranslate nohighlight">\(n=1\)</span> standard deviation from the mean is 0.6826</p></li>
</ul>
<div class="math notranslate nohighlight">
\[Prob(E[\tilde{x}]-1\sigma(\tilde{x})\leq \tilde{x}\leq E[\tilde{x}]+1\sigma(\tilde{x}))|_{n=1})=0.6826\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(n=2,Prob(\cdot)=0.9550\)</span></p></li>
</ul>
<div class="math notranslate nohighlight">
\[Prob(E[\tilde{x}]-2\sigma(\tilde{x})\leq \tilde{x}\leq E[\tilde{x}]+2\sigma(\tilde{x}))|_{n=1})=0.9550\]</div>
<ul class="simple">
<li><p>it is convenient to to transform a normally distributed r.v. into units of standard deviations from it’s mean</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\tilde{z}=\frac{\tilde{x}-E[\tilde{x}]}{\sigma(\tilde{x})}\]</div>
<ul class="simple">
<li><p>This follows the “standard” normal distribution, which has mean 0 and and standard deviation 1</p></li>
<li><p>can you show that is indeed the case that z has mean zero and standard devaiton 1?</p></li>
<li><p>This means that the normal distribution is completely characterized by it’s first two moments</p></li>
<li><p>This means that the investment problem is much more tractable too!</p></li>
<li><p>Only two moments to worry about:</p>
<ul>
<li><p>The expected return of the portfolio</p></li>
<li><p>it’s variance</p></li>
<li><p>The probability of really bad tail events will follow immediately from these two!</p></li>
</ul>
</li>
</ul>
<p><strong>How to evaluate whether returns are normal?</strong></p>
<p>The standard approach is to look at higher moments.</p>
<p>Because the normal is entired descibed by the first two moments, looking at these higher moments can give us a clue if that is really true for the data at hand.</p>
<p>Here are a few:</p>
<ul>
<li><p>Skewness</p></li>
<li><p>Kurtosis</p></li>
<li><p>Frequency of extreme return realizations</p>
<ul class="simple">
<li><p>3 sigma events should almost never happen for a normal random variable</p></li>
<li><p>once every 500 periods</p></li>
</ul>
<div class="math notranslate nohighlight">
\[PROB(|R-E{R}|&gt;3\sigma(R))\]</div>
</li>
</ul>
<p>A nice thing to do is to simulate data generated by a normal with same sample mean and standard deviation as the normal, and compare it with the actual data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get you estimators </span>
<span class="n">mu</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="c1"># sample sze</span>
<span class="n">T</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># simulate from a normal distribution with same mean, standard deviation and sample size</span>

<span class="n">X</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">std</span><span class="p">,</span><span class="n">T</span><span class="p">))</span>

<span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">X</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../../_images/e735d5762c55830699cddcf7edcb37d3d15716c7a2e6f13865d0179bde1bffa9.png" src="../../_images/e735d5762c55830699cddcf7edcb37d3d15716c7a2e6f13865d0179bde1bffa9.png" />
</div>
</div>
<ul class="simple">
<li><p>what happens if we increase the mean?</p></li>
<li><p>what happens if we increase the standard deviation?</p></li>
<li><p>for the same standard mean and standard deviation what do you notice when you compare the real data and the simulated data?</p></li>
</ul>
<blockquote>
<div><p>This is only one simulation! Everytime you run the cell again it will draw a new set of realizations. Try it!</p>
</div></blockquote>
<p>Lets look at higher moments of our data and the normal simulation</p>
<p><strong>Skewness</strong></p>
<p>What is the skewness of a normal distrbiution?</p>
<p>Does that hold for the simulation? Why not?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">skew</span><span class="p">(),</span> <span class="n">X</span><span class="o">.</span><span class="n">skew</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-0.5053783766354294, 0.014337127183258622]
</pre></div>
</div>
</div>
</div>
<p><strong>Kurtosis</strong></p>
<p>What is the Kurtosis of a normal distribution?</p>
<p>Does that hold in our simulation? Why not?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(),</span><span class="n">X</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.9881305187934846, 0.09665084495406484]
</pre></div>
</div>
</div>
</div>
<p><strong>Number of Extreme realizations</strong></p>
<p>To evaluate how close a distribution is to the normal distribution we typically look at how many observations in the real data are below a certain number of standard devations of the mean</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LargeT</span><span class="o">=</span><span class="mi">100000</span>
<span class="n">X</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">std</span><span class="p">,</span><span class="n">LargeT</span><span class="p">))</span>
<span class="n">threshold</span><span class="o">=</span><span class="mi">4</span>
<span class="c1"># counts for the real data</span>
<span class="n">A</span><span class="o">=</span><span class="p">((</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">-</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="c1"># counts for simulated data (which we know it is normal!)</span>
<span class="n">B</span><span class="o">=</span><span class="p">((</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">X</span><span class="o">.</span><span class="n">std</span><span class="p">())</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;probability outcome lower than </span><span class="si">{</span><span class="n">threshold</span><span class="si">}</span><span class="s1"> standard deviations were expected to  </span><span class="si">{</span><span class="n">B</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">LargeT</span><span class="o">*</span><span class="n">T</span><span class="si">}</span><span class="s1"> in our sample size of </span><span class="si">{</span><span class="n">T</span><span class="si">}</span><span class="s1"> months&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;our sample with </span><span class="si">{</span><span class="n">T</span><span class="si">}</span><span class="s1"> months had  </span><span class="si">{</span><span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s1"> such events&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>probability outcome lower than 4 standard deviations were expected to  0.025880000000000004 in our sample size of 647 months
our sample with 647 months had  2 such events
</pre></div>
</div>
</div>
</div>
<p>We can ask what is the probability that this</p>
<p><strong>Why we might care about deviations from normality?</strong></p>
<p>For example, if the market has a vol of 20% per year, and if the market return is assumed to be normally distributed, I know that there is about a 2.5% probability that I will loose 40% of my investment by the end of the year!</p>
</section>
<section id="excess-returns">
<h2><strong>Excess returns</strong><a class="headerlink" href="#excess-returns" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>It is convenient to decompose the return earned in terms of what you earn due to</p>
<ol class="arabic simple">
<li><p>compensation for waiting (time-value of money)</p></li>
<li><p>compensation for bearing risk (risk premium)</p></li>
</ol>
</li>
<li><p>To do the decomposition, we will do the following:</p>
<ul>
<li><p>We first define an “<b>excess return</b>”： the return minus the risk-free rate</p></li>
</ul>
</li>
</ul>
<div class="math notranslate nohighlight">
\[R_i^e=R_i-R_f\]</div>
<ul>
<li><p>We typically use the returns of a 3-month treasury bill to measure <span class="math notranslate nohighlight">\(R_f\)</span></p></li>
<li><p>So the excess return of the market is</p>
<div class="math notranslate nohighlight">
\[R^e_{MKT}=R_{MKT}-R_f\]</div>
</li>
<li><p>i.e. how much more I would get if I invested in the market instead of a short-term risk-free U.S. treasury bond</p></li>
<li><p>We call the <strong>Expected difference</strong>, the <b>Risk-Premium</b></p>
<div class="math notranslate nohighlight">
\[E[R_i^e]=E[R_i-R_f]\]</div>
</li>
<li><p>It is how much more you expect to get by investing in asset <span class="math notranslate nohighlight">\(i\)</span> instead of the risk-free asset</p></li>
<li><p>When asset <span class="math notranslate nohighlight">\(i\)</span> is the total market portfolio of US equities, we call this, the <b>Equity Risky Premium</b></p></li>
</ul>
<p><strong>The Equity Risky Premium</strong></p>
<p>The expected difference in return earned by investing in the aggreagate stock market portfolio instead of the risk-free rate</p>
<div class="math notranslate nohighlight">
\[E[R_{MKT}-R_f]\]</div>
<p>One good estimate of it simply uses the sample mean</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">-</span><span class="n">Data</span><span class="o">.</span><span class="n">RF</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5140340030911901
</pre></div>
</div>
</div>
</div>
<p>What does this mean?</p>
<p>Lets look at how much money one would have if they had invested 1 dollar in the market and kept reinvesting until the end of our sample</p>
<p>lets then compare with an investment in the risk-free rate</p>
<div class="math notranslate nohighlight">
\[(1+r_1)(1+r_2)....(1+r_T)\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x272170afd30&gt;
</pre></div>
</div>
<img alt="../../_images/db569ed453bba4467b3677208d7519e4832b35d953d96358c05ab01c2278f5cf.png" src="../../_images/db569ed453bba4467b3677208d7519e4832b35d953d96358c05ab01c2278f5cf.png" />
</div>
</div>
<p>This means that someone that invested 1 dollar in the market in 63, would have 182 dollars today.</p>
<p>A tota return of 182/1-1=18,100%</p>
<p>If you invested in the risk-free rate you would have</p>
<p>12.5/1-1= 1,150% which is a bit above the inflation in this same period</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">prod</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RF      12.472682
MKT    181.954557
dtype: float64
</pre></div>
</div>
</div>
</div>
<p><strong>Why looking at things in terms of Excess returns is important ?</strong></p>
<ol class="arabic simple">
<li><p>All asset returns have both the risk-free component in it and the risk-premium component.</p></li>
<li><p>The risk-free component is directly observed– for example in dollars it is convention to use the yield on the 3 month US treasury bill</p>
<ol class="arabic simple">
<li><p>The average risk-free rate of the last 30 years tells you nothing about the risk-less rate today BECAUSE you can directly observe what it is today. It is literally the rate of return that you get for sure if you buy a tbill and hold until maturity (3 months)–and this rate of return is know in advance because we know the final price of the tbill.</p></li>
</ol>
</li>
<li><p>The particular instrument that you use to measure the risk-free rate might vary depending on a variety of complicated considerations</p>
<ul class="simple">
<li><p>Is it funded instrument vs not funded (bills vs swaps)</p></li>
<li><p>Accessible to everyone or only some traders (bill vs fed funds)</p></li>
<li><p>Can you borrow at this rate (bills vs your broker lending rate)</p></li>
</ul>
</li>
<li><p>the important point is that at any given moment you know the true risk-free rate. There is no point in estimating it</p></li>
</ol>
<p><strong>Trading Interpretation</strong></p>
<ul class="simple">
<li><p>Excess returns have a nice trading interpretation.</p></li>
<li><p>For example the excess return on the market (portfolio) is</p></li>
</ul>
<div class="math notranslate nohighlight">
\[R^{e,MKT}=R^{MKT}-R^F\]</div>
<ul class="simple">
<li><p>This is really a portfolio that has weights 1 on the market and -1 on the risk-free rate</p></li>
<li><p>This type of portfolio is very important</p></li>
<li><p>We call it a “self-financed portfolio” or “zero cost portfolio”</p></li>
<li><p>The key is you are not putting any capital in it because you borrow 1 dollar to invest 1 dollar in the market (or in any other assets)</p></li>
</ul>
<p><strong>Practical considerations and frictions</strong></p>
<ul class="simple">
<li><p>we will discuss this later, but in practice you always have to put some capital on the trade</p></li>
<li><p>some investors don’t really need to put much like banks and dealers, but others like retail investors are asked to put much more.And often the amount of capital that you have to put on a “zero-cost” trade fluctuates with liquidity conditions (a lot during crises, not much during booms)</p></li>
<li><p>These portfolios are nevertheless super useful empirically to understand the data even if in the real world you cannot directly buy the zero cost portfolios without putting capital</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters/Not used"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-normal-distribution"><strong>The Normal distribution</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#excess-returns"><strong>Excess returns</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alan Moreira
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021 Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0).
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>